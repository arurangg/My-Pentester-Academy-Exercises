#!/usr/bin/env python

import SocketServer
import CGIHTTPServer
import sys
from signal import SIGINT, signal


def sig_handler(signal_number, interrupted_stack_frame):
        print "\nSIGINT received..Bye Bye"
	sys.exit(0)

signal(SIGINT, sig_handler)

if len(sys.argv) < 2:
	port = 8000
else:
	port = int(sys.argv[1])

server = SocketServer.TCPServer(('', port), CGIHTTPServer.CGIHTTPRequestHandler)
server.allow_reuse_address = True
server.serve_forever()

